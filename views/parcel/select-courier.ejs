<% layout("/layouts/boilerplate") %>
<style>
  @media (min-width: 768px) {
    .helli {
      margin-left: 200px;
    }
  }</style>
<div class="helli">
<div class="container mt-5">
  <h4 class="mb-3">ðŸšš Choose Courier Service</h4>

  <p><strong>From:</strong> <%= fromLocker.location.address %> (<%= fromLocker.location.pincode %>)</p>
  <p><strong>To:</strong> <%= toLocker.location.address %> (<%= toLocker.location.pincode %>)</p>

  <form action="/parcel/<%= parcel._id %>/confirm-move" method="POST">
   <% courierOptions.forEach((option, index) => { %>
  <div class="form-check mb-2">
    <input 
      class="form-check-input" 
      type="radio" 
      name="courierIndex" 
      value="<%= index %>" 
      id="courier_<%= index %>" 
      required
    >
    <label class="form-check-label" for="courier_<%= index %>">
      <strong><%= option.courier_name %></strong> - â‚¹<%= option.rate %> | ETA: <%= option.estimated_delivery_days %> days
    </label>

    <!-- Hidden fields to store courier data -->
    <input type="hidden" name="courier_<%= index %>_name" value="<%= option.courier_name %>">
    <input type="hidden" name="courier_<%= index %>_rate" value="<%= option.rate %>">
    <input type="hidden" name="courier_<%= index %>_eta" value="<%= option.estimated_delivery_days %>">
  </div>
<% }) %>


    <input type="hidden" name="newLockerId" value="<%= toLocker.lockerId %>" />
    <button type="submit" class="btn btn-success mt-3 w-100">Confirm Move</button>
  </form>
</div>
</div>