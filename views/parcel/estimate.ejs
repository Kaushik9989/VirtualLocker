<% layout("/layouts/boilerplate") %>

<style>
  @media (min-width: 768px) {
    .helli {
      margin-left: 200px;
    }
  }
</style>

<div class="helli mt-5">
  <div class="container mt-5">
    <h2 class="mb-4 fw-semibold text-dark">ðŸšš Choose a Courier Option</h2>

    <% courierOptions.forEach(courier => { 
      const total = courier.rate + platformFee;
    %>
      <div class="card shadow-sm mb-4 border-0">
        <div class="card-body d-flex flex-column flex-md-row justify-content-between align-items-start">
          <div class="mb-3 mb-md-0">
            <h5 class="card-title mb-2">Courier: 
              <span class="text-primary fw-bold"><%= courier.courier_name %></span>
            </h5>
            <ul class="list-unstyled ms-2 text-secondary small">
              <li>ðŸ“¦ Base Cost: â‚¹<%= courier.rate %></li>
              <li>ðŸ’¼ Platform Fee: â‚¹<%= platformFee %></li>
              <li class="fw-bold text-dark mt-1">ðŸ’° Total: â‚¹<%= total %></li>
            </ul>
          </div>

          <form action="/send/step3" method="get">
            <input type="hidden" name="selectedCourierId" value="<%= courier.courier_company_id %>" />
            <input type="hidden" name="rate" value="<%= courier.rate %>" />
            <input type="hidden" name="totalCost" value="<%= total %>" />
            <button 
              type="submit" 
              class="btn btn-primary px-4 py-2 mt-2 mt-md-0"
            >
              Select Courier
            </button>
          </form>
        </div>
      </div>
    <% }); %>
  </div>
</div>
